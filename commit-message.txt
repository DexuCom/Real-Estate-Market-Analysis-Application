Heatmap background generation function refactorization, minPrice and maxPrice are now calculated dynamically